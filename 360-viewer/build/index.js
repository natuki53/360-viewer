(()=>{"use strict";var e,t={14:()=>{const e=window.React,t=window.wp.blocks,l=window.wp.blockEditor,r=window.wp.components,a=window.wp.i18n;(0,t.registerBlockType)("psv360/viewer",{edit:function(t){const{attributes:n,setAttributes:o}=t,{imageUrl:i}=n,c=(0,l.useBlockProps)({className:"wp-block-psv360-viewer"}),s=e=>{o({imageUrl:e.url})},p=()=>{o({imageUrl:""})};return(0,e.createElement)("div",{...c},(0,e.createElement)(l.BlockControls,null,(0,e.createElement)(r.ToolbarGroup,null,i&&(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{onSelect:s,allowedTypes:["image"],value:i,render:({open:t})=>(0,e.createElement)(r.ToolbarButton,{onClick:t,icon:"edit",label:(0,a.__)("写真を変更")})})),i&&(0,e.createElement)(r.ToolbarButton,{onClick:p,icon:"trash",label:(0,a.__)("写真を削除")}))),(0,e.createElement)("div",{className:"psv-block-editor"},i?(0,e.createElement)("div",{className:"psv-preview"},(0,e.createElement)("img",{src:i,alt:"360°写真プレビュー",style:{maxWidth:"100%"}}),(0,e.createElement)("div",{className:"psv-actions"},(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{onSelect:s,allowedTypes:["image"],value:i,render:({open:t})=>(0,e.createElement)(r.Button,{onClick:t,variant:"secondary"},(0,a.__)("写真を変更"))})),(0,e.createElement)(r.Button,{onClick:p,variant:"link",isDestructive:!0},(0,a.__)("写真を削除")))):(0,e.createElement)(r.Placeholder,{icon:"format-image",label:(0,a.__)("360°ビューア"),instructions:(0,a.__)("360°写真をアップロードしてください")},(0,e.createElement)(l.MediaUploadCheck,null,(0,e.createElement)(l.MediaUpload,{onSelect:s,allowedTypes:["image"],value:i,render:({open:t})=>(0,e.createElement)(r.Button,{onClick:t,variant:"primary"},(0,a.__)("写真を選択"))})))))},save:function(e){return null}})}},l={};function r(e){var a=l[e];if(void 0!==a)return a.exports;var n=l[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=(t,l,a,n)=>{if(!l){var o=1/0;for(p=0;p<e.length;p++){for(var[l,a,n]=e[p],i=!0,c=0;c<l.length;c++)(!1&n||o>=n)&&Object.keys(r.O).every((e=>r.O[e](l[c])))?l.splice(c--,1):(i=!1,n<o&&(o=n));if(i){e.splice(p--,1);var s=a();void 0!==s&&(t=s)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[l,a,n]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,l)=>{var a,n,[o,i,c]=l,s=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(c)var p=c(r)}for(t&&t(l);s<o.length;s++)n=o[s],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(p)},l=globalThis.webpackChunk_360_viewer=globalThis.webpackChunk_360_viewer||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=r.O(void 0,[350],(()=>r(14)));a=r.O(a)})();